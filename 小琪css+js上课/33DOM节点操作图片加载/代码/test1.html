<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Examples</title>
        <meta name="description" content="">
        <meta name="keywords" content="">
        <link href="" rel="stylesheet">
        <style type="text/css">
            *{margin:0;padding:0}
            .wrap{
                overflow: hidden;;
                width:960px;
            }
            .wrap div{
                float:left;
                width:300px;
                height:240px;
                margin:10px;
            }
            .wrap div img{
                width:300px;
                height:240px;
            }
        </style>
        <script type="text/javascript">
            function offset(el){
                    var cleft = 0,ctop=0;
                    while(el){
                        cleft+=el.offsetLeft;
                        ctop+=el.offsetTop;
                        el = el.offsetParent;
                        return{top:ctop,left:cleft}
                    }
                }
                function isShow(el){
                    var top = offset(el).top;
                    var viewH = window.innerHeight+document.documentElement.scrollTop;
                    return top<=(viewH-el.offsetHeight);
                }
                function checkImg(){
                    var wrapDiv = document.querySelectorAll('.wrap div');
                    for(var i=0;i<wrapDiv.length;i++){
                        var item = wrapDiv[i];
                        var imgDom = item.getElementsByTagName("img")[0];
                        if(imgDom.src == imgDom.dataset.src){
                            i+=2;
                            continue;
                        }
                        if(isShow(item)){
                            imgDom.src = imgDom.dataset.src;
                        }
                    }
                }
            window.onload = function(){
                checkImg();
            }
            window.onscroll = checkImg;
        </script>
    </head>
    <body>
        <div  class="wrap">
            <div><img src="img/loading.gif" data-src="img/1.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/2.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/3.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/4.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/5.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/1.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/2.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/3.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/4.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/5.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/1.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/2.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/3.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/4.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/5.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/1.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/2.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/3.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/4.jpg" alt=""></div>
            <div><img src="img/loading.gif" data-src="img/5.jpg" alt=""></div>
        </div>
    </body>
</html>